# 文件上传

## 本地验证绕过  js验证绕过

​	文件上传时在本地服务器进行验证，此时可以将php文件的后缀改为符合要求的，然后用burp suite抓包，再将后缀改为php即可

## 文件后缀绕过

​	建立一个a.php.xxx的文件，xxx为读不出来的文件后缀即可
​	原理是文件读取时是从右往左读取，当后缀读不出来时，到.php时会执行php文件

## 文件类型绕过

​	验证文件类型的mime值，当mime值符合要求时才能上传，此时只需要burp suite抓包，将mime值改为符合要求的即可

## 文件截断绕过

源码对上传文件进行php限制
截断字符:0x00    %00    /00   char()为null，后面内容会被截断
利用条件：php版本小于5.3.4    php参数magic_quotes_gpc设置为关off

## 竞争上传（多线程，并发）：

源码对上传的文件类型为php的存储后删除。
通过上传php生成一句话，在路径下生成反弹木马
自动生成一句话木马的脚本。

## 图片马

cat 1.jpg/a  2.php/b  3.jpg
copy  1.jpg/a  2.php/b  3.jpg   将图片和php制作成一个图片马
此上传只有对方有文件包含漏洞时才能使用

## 二次渲染

待定······